---
layout: post
title:  "TikZをもう少し知る"
date:   2022-06-10 00:00:01 +0000
tags: 雑記 日記
---

TikZのコードから、Webページ上に図形を描画できるライブラリを求めている。TikZのコードからSVGを排出するTikZJaxは、そういった要求への一定の回答になっている。

逆に、データから描画したグラフなどをTikZのコードに落とせるような品物を求めている。SVG画像であれば、TikZのコードに落とせないこともないので、SVG描画を容易にするライブラリD3は、一つの回答である。

しかし、いずれにせよ使いやすいとはいえない。TikZJaxは、高速でないのと、TikZの拡張性に微塵も対応していないので、物足りない部分を感じる。D3は多機能だが、時々書き方が変わるらしく、追いかけるのが面倒臭そうなのと、処理が早いと感じられないのが欠点。処理速度に関しては、いずれもSVG由来かもしれないが...

$\KaTeX$のIssueで、TikZの実装を望む声もあったが、[TikZは巨大なライブラリで、移植は途方もない作業量になるといった旨の返答](https://github.com/KaTeX/KaTeX/issues/219#issuecomment-91913590)があった。実際、[TikZ Manual](https://ftp.kddilabs.jp/CTAN/graphics/pgf/base/doc/pgfmanual.pdf)を参考に眺めてみると、1321ページの時点で読む気力が萎える。なるほど、完全再現は割に合わないので、Wasmなどの移植方法を用いるのは妥当である。

私が使うTikZコマンドは限られているので、移植を目指さず使う分を一緒に成長させていけば十分なのではという気がしないでもない。その方針で少し開発してみようかと思う最近である。